this.ckan.module("api-info",(function(t){return{modal:null,options:{template:null},initialize:function(){t.proxyAll(this,/_on/),this.el.on("click",this._onClick),this.el.button()},loading:function(t){this.el.button(!1!==t?"loading":"reset")},show:function(){var o=this.sandbox,i=this;if(this.modal)return this.modal.modal("show");this.loadTemplate().done((function(n){i.modal=t(n),i.modal.find(".modal-header :header").append('<button class="close" data-dismiss="modal">Ã—</button>'),i.modal.modal().appendTo(o.body)}))},hide:function(){this.modal&&this.modal.modal("hide")},loadTemplate:function(){return this.options.template?(this.promise||(this.loading(),this.promise=t.get(this.options.template),this.promise.then(this._onTemplateSuccess,this._onTemplateError)),this.promise):(this.sandbox.notify(this._("There is no API data to load for this resource")),t.Deferred().reject().promise())},_onClick:function(t){t.preventDefault(),this.show()},_onTemplateSuccess:function(){this.loading(!1)},_onTemplateError:function(){this.loading(!1),this.sandbox.notify(this._("Failed to load data API information"))}}}));