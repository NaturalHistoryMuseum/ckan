this.ckan.module("confirm-action",(function(t){return{options:{content:"",i18n:{content:""},template:['<div class="modal fade">','<div class="modal-dialog">','<div class="modal-content">','<div class="modal-header">','<button type="button" class="close" data-dismiss="modal">Ã—</button>','<h3 class="modal-title"></h3>',"</div>",'<div class="modal-body"></div>','<div class="modal-footer">','<button class="btn btn-default btn-cancel"></button>','<button class="btn btn-primary"></button>',"</div>","</div>","</div>","</div>"].join("\n")},initialize:function(){t.proxyAll(this,/_on/),this.el.on("click",this._onClick)},confirm:function(){this.sandbox.body.append(this.createModal()),this.modal.modal("show"),this.modal.css({"margin-top":-.5*this.modal.height(),top:"50%"})},performAction:function(){t("<form/>",{action:this.el.attr("href"),method:"POST"}).appendTo("body").submit()},createModal:function(){if(!this.modal){var o=this.modal=t(this.options.template);o.on("click",".btn-primary",this._onConfirmSuccess),o.on("click",".btn-cancel",this._onConfirmCancel),o.modal({show:!1}),o.find(".modal-title").text(this._("Please Confirm Action"));var n=this.options.content||this.options.i18n.content||this._("Are you sure you want to perform this action?");o.find(".modal-body").text(n),o.find(".btn-primary").text(this._("Confirm")),o.find(".btn-cancel").text(this._("Cancel"))}return this.modal},_onClick:function(t){t.preventDefault(),this.confirm()},_onConfirmSuccess:function(t){this.performAction()},_onConfirmCancel:function(t){this.modal.modal("hide")}}}));