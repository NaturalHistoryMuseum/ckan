this.ckan.module("resource-view-embed",(function(e){var t,i;function n(e){e.preventDefault(),t.modal("show")}function o(){e("textarea",t).select()}function a(){i.options.width=e('[name="width"]',t).val(),i.options.height=e('[name="height"]',t).val(),h()}function h(){e('[name="code"]',t).val('<iframe width="'+i.options.width+'" height="'+i.options.height+'" src="'+i.options.url+'" frameBorder="0"></iframe>')}function u(e){e.preventDefault()}return{initialize:function(){i=this,t=e("#embed-"+this.options.id),e("body").append(t),this.el.on("click",n),e("textarea",t).on("focus",o).on("mouseup",u),e("input",t).on("keyup change",a),h()},options:{id:0,url:"#",width:700,height:400}}}));