this.ckan.module("table-selectable-rows",(function(e){return{select_all:null,total_checkboxes:0,buttons:null,initialize:function(){e.proxyAll(this,/_on/),this.total_checkboxes=e('input[type="checkbox"]',this.el).length,this.select_all=e('<input type="checkbox">').data("select-all",!0).appendTo(e("thead th:first-child",this.el)),this.el.on("change",'input[type="checkbox"]',this._onHandleCheckboxToggle),this.buttons=e("th.actions .btn",this.el).addClass("disabled").prop("disabled",!0)},_onHandleCheckboxToggle:function(t){var l=e(t.target);l.data("select-all")?this.handleSelectAll(l,l.is(":checked")):this.handleSelectOne(l,l.is(":checked"))},handleSelectAll:function(t,l){e('input[type="checkbox"]',this.el).prop("checked",l),l?(e("tbody tr",this.el).addClass("table-selected"),this.buttons.removeClass("disabled").prop("disabled",!1)):(e("tbody tr",this.el).removeClass("table-selected"),this.buttons.addClass("disabled").prop("disabled",!0))},handleSelectOne:function(t,l){l?t.parents("tr").addClass("table-selected"):t.parents("tr").removeClass("table-selected");var s=e('tbody input[type="checkbox"]:checked',this.el).length;s>=this.total_checkboxes?this.select_all.prop("checked",!0):this.select_all.prop("checked",!1),s>0?this.buttons.removeClass("disabled").prop("disabled",!1):this.buttons.addClass("disabled").prop("disabled",!0)}}}));