this.ckan=this.ckan||{},function(u,e){var i={events:e({}),queue:null,publish:function(u){return i.queue?i.queue.push([].slice.call(arguments)):i.events.triggerHandler(u,[].slice.call(arguments,1)),this},subscribe:function(u,s){if(e.isPlainObject(u))return e.each(u,e.proxy(i.subscribe,this)),this;function n(){return s.apply(this,[].slice.call(arguments,1))}return n.guid=s.guid=s.guid||(e.guid+=1),i.events.on(u,n),this},unsubscribe:function(u,e){return i.events.off(u,arguments),this},enqueue:function(){return i.queue||(i.queue=[]),this},dequeue:function(){if(i.queue){var u=i.queue,e=0,s=u.length;for(i.queue=null;e<s;e+=1)i.publish.apply(i,u[e])}return this}};u.pubsub=i,u.sandbox.extend({publish:i.publish,subscribe:i.subscribe,unsubscribe:i.unsubscribe})}(this.ckan,this.jQuery);